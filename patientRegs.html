<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Form</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@1,500&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" crossorigin="anonymous">
<link rel="icon" href="images/title-icon-no-bg.png">
    <link rel="stylesheet" href="style (2).css">
<style>
body{ background-color:#3CA55C; background: -webkit-linear-gradient(to right, #B5AC49, #3CA55C); background: linear-gradient(to right, #B5AC49, #3CA55C); }
.register{ width:700px; margin: 0px auto; margin-top:5%;margin-bottom:5%; background: rgba(0,0,0,.7); padding: 40px; border-radius: 6px; }
.register .form-label { display: inline-block; margin-left: 20px; margin-bottom: 5px; font-weight: 700; text-transform: uppercase; line-height: 24px; height: 24px; font-size: 12px; color: #ffffff; }
.heading{ display:flex; justify-content: center; color: #ffffff; }
.register h5{color: #ffffff;}
.form{ display:flex; justify-content: center; }
.btn{ display:flex; justify-content: center; }
.register .form-control { background-color: #fff; height: 50px; color: #191a1e; border: none; font-size: 16px; font-weight: 400; -webkit-box-shadow: none; box-shadow: none; border-radius: 40px; padding: 0 25px; }
.register hr{border-top: 1px solid #ffffff;}
.button { background: #52c234; background: -webkit-linear-gradient(to right, #061700, #52c234); background: linear-gradient(to right, #061700, #52c234); border: none; color: white; padding: 15px 32px; text-align: center; text-decoration: none; display: inline-block; font-size: 16px; margin: 4px 2px; cursor: pointer; -webkit-transition-duration: 0.4s; /* Safari */ transition-duration: 0.4s; }
.button2:hover { box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24),0 17px 50px 0 rgba(0,0,0,0.19); }
@media only screen and (max-width: 600px) {
.register{ width:85%;}
}
</style>
</head>
<body>
    <div id="lading" style="background-image: url(images/body-bg.jpeg);background-size: cover; background-position: center;">
        <div id="nav">
            <div id="logo">
                <h1 id="logo-title">भारत Cares</h1>
            </div>
            <div id="btn-nav">
                <a class="btn-box" href="/index.html">Home </a>
                <a class="btn-box" href="/about us.html">About Us</a>
                <a class="btn-box" href="/home.html">Logout</a>
            </div>
        </div>
    </div>
<div class="main">
    <div class="register">
        <div class="heading">
            <h1 >Patient Details</h1>
        </div>
        <div class="form">
            <form id="register" action="/" method="post" onSubmit="savePatientForm(); return false;">
                <h5 >PERSONAL DETAILS:</h5><hr>
		  <div class="row">
			<div class="col-md-6">
				<div class="form-group">
				   <span class="form-label">First Name</span>
				   <input class="form-control" id="fname" name="fname" type="text" placeholder="Enter your first name" required>
				</div>
			</div>
			<div class="col-md-6">
			   <div class="form-group">
				  <span class="form-label">Last Name</span>
				  <input class="form-control" id="lname" name="lname" type="text" placeholder="Enter your last name" required>
			   </div>
			</div>
		   </div>
		  <div class="row">
			<div class="col-md-6">
				<div class="form-group">
				   <span class="form-label">Date of Birth</span>
				   <input class="form-control" id="dob" name="dob" type="date" >
				</div>
			</div>
			<div class="col-md-6">
			   <div class="form-group">
				  <span class="form-label">Gender</span>
					<select name="Gender" id="gender" class="form-control" >
						<option value="select">--select--</option>
						<option value="male">Male</option>
						<option value="female">Female</option>
						<option value="other">Others</option>
					</select>
			   </div>
			</div>
		   </div>
		  <div class="row">
			<div class="col-md-6">
				<div class="form-group">
				   <span class="form-label">Phone</span>
				   <input class="form-control" id="phone" name="phone" type="number" placeholder="Enter your phone number" required>
				</div>
			</div>
			<div class="col-md-6">
			   <div class="form-group">
				  <span class="form-label">Email Address</span>
				  <input class="form-control" id="email" name="email" type="email" placeholder="Enter your email address" required>
			   </div>
			</div>
		   </div>
		  <div class="row">
			<div class="col-md-6">
				<div class="form-group">
				   <span class="form-label">Address</span>
				   <input class="form-control" id="address" name="address" type="text" placeholder="Enter your address" required>
				</div>
			</div>
			<div class="col-md-6">
			   <div class="form-group">
				  <span class="form-label">City</span>
				  <input class="form-control" id="city" name="city" type="text" placeholder="Enter your city" required>
			   </div>
			</div>
		   </div>
		  <div class="row">
			<div class="col-md-6">
				<div class="form-group">
				   <span class="form-label">State</span>
				   <input class="form-control" id="state" name="state" type="text" placeholder="Enter your state" required>
				</div>
			</div>
			<div class="col-md-6">
			   <div class="form-group">
				  <span class="form-label">Pincode</span>
				  <input class="form-control" id="pincode" name="pincode" type="text" placeholder="Enter your pincode" required>
			   </div>
			</div>
		   </div>
			<h5 >MEDICAL HISTORY</h5><hr>
			  <div class="row">
				<div class="col-md-12">
					<div class="form-group">
						<span class="form-label" style="display:inline-block;">Are you on any previous medications ?</span>
						<div class="form-checkbox" style="display:inline-block;margin-left:30px">
						   <label for="roundtrip" style="color: #fff;"><input type="radio" id="prev_medication1" name="prev_medication" value="yes"><span></span>Yes</label>
						   <label for="one-way" style="color: #fff;"> <input type="radio" id="prev_medication2" name="prev_medication" value="no"> <span></span>No </label>
						</div>
					</div>
				</div>
				<div class="col-md-12">
					<div class="form-group">
						<span class="form-label" style="display:inline-block;">Have you enrolled as a blood donor?</span>
						<div class="form-checkbox" style="display:inline-block;margin-left:30px">
						   <label for="roundtrip" style="color: #fff;"><input type="radio" id="blood_donor1" name="blood_donor" value="yes"><span></span>Yes</label>
						   <label for="one-way" style="color: #fff;"> <input type="radio" id="blood_donor2" name="blood_donor" value="no"> <span></span>No </label>
						</div>
					</div>
				</div>
				<div class="col-md-12">
					<div class="form-group">
						<span class="form-label" style="display:inline-block;">Have you had any previous surgeries?</span>
						<div class="form-checkbox" style="display:inline-block;margin-left:30px">
						   <label for="roundtrip" style="color: #fff;"><input type="radio" id="prev_surgeries1" name="prev_surgeries" value="yes"><span></span>Yes</label>
						   <label for="one-way" style="color: #fff;"> <input type="radio" id="prev_surgeries2" name="prev_surgeries" value="no"> <span></span>No </label>
						</div>
					</div>
				</div>
			   </div>

			   <h5 > HEALTH RECORDS:</h5><hr>
			  <div class="row">
				<div class="col-md-6">
					<div class="form-group">
					   <span class="form-label">Blood Group</span>
					   <input class="form-control" id="blood_group" name="blood_group" type="text" placeholder="Enter your Blood Group" required>
					</div>
				</div>
				<div class="col-md-6">
				   <div class="form-group">
					  <span class="form-label">Weight</span>
					  <input class="form-control" id="weight" name="weight" type="text" placeholder="Enter your Weight" required>
				   </div>
				</div>
				<div class="col-md-6">
				   <div class="form-group">
					  <span class="form-label">Height</span>
					  <input class="form-control" id="height" name="height" type="text" placeholder="Enter your Height" required>
				   </div>
				</div>
			   </div>

				<div class="btn">
					<button  class="button button2" >save</button>
				</div>
            </form>
        </div>
    </div>
</div>
</body>
<script type="text/javascript">

 let savePatientForm = async () => {
     	var prev_meds = document.getElementsByName('prev_medication');
        for (var pvms of prev_meds)
        {
          if (pvms.checked) { var checked_prev_medication = pvms.value; }
    	}
     	var prev_sur = document.getElementsByName('prev_surgeries');
        for (var pvs of prev_sur)
        {
          if (pvs.checked) { var checked_prev_surgeries = pvs.value; }
    	}
     	var prev_bd = document.getElementsByName('blood_donor');
        for (var pbd of prev_bd)
        {
          if (pbd.checked) { var checked_blood_donor = pbd.value; }
    	}
        let fname=document.getElementById("fname").value;
        let lname=document.getElementById("lname").value;
        let dob=document.getElementById("dob").value;
        let gender=document.getElementById("gender").value;
        let phone=document.getElementById("phone").value;
        let email=document.getElementById("email").value;
        let address=document.getElementById("address").value;
        let city=document.getElementById("city").value;
        let state=document.getElementById("state").value;
        let pincode=document.getElementById("pincode").value;
		let prev_medication=checked_prev_medication;
		let blood_donor=checked_blood_donor;
		let prev_surgeries=checked_prev_surgeries;
		let blood_group=document.getElementById("blood_group").value;
		let weight=document.getElementById("weight").value;
		let height=document.getElementById("height").value;
        let patientobj= {
            fname : fname,
            lname : lname,
            dob : dob,
            gender : gender,
            contact : phone,
            mail : email,
            address : address,
            city : city,
            state : state,
            pin : pincode,
			medic : prev_medication,
			donor : blood_donor,
			surgery : prev_surgeries,
			bgroup : blood_group,
			weight : weight,
			height : height
        };
		console.log(patientobj);
		let res= await fetch("http://localhost:3000/patients",{
            method: "POST",
            body: JSON.stringify(patientobj),
            headers: {
                "Content-Type": "application/json"
            }
        });
        document.getElementById("register").reset();
       alert('Patient added successfully.')
       window.location.assign("Homepage/Homepage/indexdup.html");
    }
</script>
</html>